<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>kccd - Form</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="noindex,nofollow" />
  <link rel="icon" href="https://ok14static.oktacdn.com/bc/image/fileStoreRecord?id=fs065kg0dr2zVs2bW697">

  <style>
    :root {
      --primary: #005ea2;
      --border: #d6d6d6;
      --text: #2f2f2f;
      --bg: #f7f7f7;
      --card-bg: #ffffff;
      --shadow: 0 10px 30px rgba(0,0,0,.12);
    }

    * {
      box-sizing: border-box;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      line-height: 1.45;
    }

    /* Background image for visual continuity with the static page */
    .bg-image {
      position: fixed;
      inset: 0;
      background-image: url("https://ok14static.oktacdn.com/fs/bco/7/fs065kg0e0f2XifZD697");
      background-size: cover;
      background-position: center;
      z-index: -1;
      filter: saturate(.95) brightness(.98);
    }

    /* Page wrapper to center content and provide spacing */
    .page {
      max-width: 960px;
      margin: 6vh auto 4rem;
      padding: 0 1rem;
    }

    /* Header with KCCD logo */
    .brand-card {
      background: var(--card-bg);
      border-radius: 8px;
      box-shadow: var(--shadow);
      overflow: hidden;
      border: 1px solid var(--border);
      margin-bottom: 1.25rem;
    }

    .brand-header {
      padding: 1.5rem 1.25rem;
      text-align: center;
      border-bottom: 1px solid var(--border);
      background: #fff;
    }

    .brand-header img {
      max-width: 200px;
      height: auto;
    }

    /* Form container card */
    .form-card {
      background: var(--card-bg);
      border-radius: 8px;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      overflow: hidden;
    }

    .form-header {
      padding: 1rem 1.25rem;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      gap: .6rem;
    }

    .form-header h2 {
      margin: 0;
      font-size: 1.125rem;
      font-weight: 600;
      color: var(--text);
    }

    /* Responsive widget area */
    .form-body {
      padding: 0; /* the widget will fill the space */
    }

    /* We’ll give the widget a responsive height using CSS + calc */
    .form-embed-wrap {
      width: 100%;
      /* Minimum height for small screens; grows on larger viewports */
      min-height: 70vh;
      height: clamp(600px, 78vh, 900px);
      position: relative;
      overflow: hidden;
      background: #fafafa;
    }

    /* Optional O365 banner below the form */
    .applogin-banner {
      background: var(--card-bg);
      border-radius: 8px;
      box-shadow: 0 6px 20px rgba(0,0,0,.1);
      border: 1px solid var(--border);
      padding: 1.25rem;
      text-align: center;
      margin-top: 1rem;
    }

    .applogin-banner h3 {
      margin: 0 0 .5rem;
      font-size: 1rem;
      font-weight: 600;
      color: var(--text);
    }

    .applogin-banner img {
      max-height: 42px;
      margin-top: .25rem;
    }

    /* Small screens */
    @media (max-width: 520px) {
      .page {
        margin: 3.5vh auto 2rem;
      }
      .form-embed-wrap {
        min-height: 75vh;
        height: clamp(520px, 82vh, 780px);
      }
      .brand-header img {
        max-width: 170px;
      }
    }
  </style>
</head>

<body>
  <div class="bg-image" aria-hidden="true"></div>

  <main class="page" role="main">
    <!-- KCCD branding -->
    <section class="brand-card" aria-label="KCCD branding">
      <div class="brand-header">
        <img src="https://ok14static.oktacdn.com/fs/bco/1/fs065kg0dpHhIdpRB697" alt="Kern Community College District" />
      </div>
    </section>

    <!-- Forms app only (login removed) -->
    <section class="form-card" aria-label="KCCD Form">
      <header class="form-header">
        <h2>Complete the form below</h2>
      </header>
      <div class="form-body">
        <!-- Responsive wrapper -->
        <div class="form-embed-wrap" id="form-embed-wrap">
          <div id="forms-565805-475" style="width:100%;height:100%;"></div>
        </div>
      </div>
    </section>

    <!-- Optional banner (remove if not desired) -->
    <aside class="applogin-banner" aria-label="Microsoft 365 notice">
      <h3>Connecting to</h3>
      <img src="https://ok14static.oktacdn.com/fs/bcg/4/gfs1iitj6mtRHwXoE1d8" alt="Microsoft Office 365" />
      <p style="margin:.5rem 0 0; font-size:.95rem; color:#444;">
        Access for bakersfieldcollege.edu users.
      </p>
    </aside>
  </main>

  <!-- Forms widget loader (width/height now responsive) -->
  <script>
    (async (w, d, src) => {
      const head = d.getElementsByTagName("head")[0];
      const s = d.createElement("script");
      s.async = 1;
      s.src = src;

      s.onload = async () => {
        // Set width to 100% and height to the container’s size for responsiveness
        const container = d.getElementById("form-embed-wrap");
        const size = () => ({
          width: container.clientWidth + "px",
          height: container.clientHeight + "px"
        });

        // Initialize the widget
        await w.wg?.init(
          "forms",
          "us2",
          565805,
          3356523,
          "forms/475/embed",
          size(),                    // dynamic width/height
          "widget",
          "forms-565805-475"
        );

        // Keep the widget sized to its container on resize
        const onResize = () => {
          try {
            const iframe = container.querySelector("iframe");
            if (iframe) {
              iframe.style.width = "100%";
              iframe.style.height = container.clientHeight + "px";
            }
          } catch (e) { /* ignore cross-origin style access if any */ }
        };

        // Observe container resize for better responsiveness
        if ("ResizeObserver" in w) {
          const ro = new ResizeObserver(onResize);
          ro.observe(container);
        } else {
          w.addEventListener("resize", onResize);
        }
      };

      head.appendChild(s);
    })(window, document, "https://infinity-public-js.500apps.com/widget.min.js");
  </script>
</body>
</html>
